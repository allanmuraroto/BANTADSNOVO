<div class="registration-form">
  <form #formCliente="ngForm">
    <div class="form-icon">
      <span><i class="fa-solid fa-user"></i></span>
    </div>
    <h4></h4>
    <section>
      <div class="form-group">
        <input type="text" class="form-control item" id="nome" name="nome" placeholder="nome"
          [(ngModel)]="usuarioLogado.nome" #nome="ngModel" [minLength]="5" required>
        <div *ngIf="nome.errors && (nome.dirty || nome.touched)" class="item alert alert-danger">
          <div [hidden]="!nome.errors?.['required']">
            Digite o nome de usuario
          </div>
        </div>
      </div>
      <div class="form-group">
        <input type="text" class="form-control item" id="email" name="email" placeholder="email"
          pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" [(ngModel)]="usuarioLogado.email" #email="ngModel" required>
        <div *ngIf="email.errors && (email.dirty || email.touched)" class="item alert alert-danger">
          <div [hidden]="!email.errors?.['required']">
            Digite um email valido
          </div>
          <div [hidden]="!email.errors?.['pattern']">
            email invalido
          </div>
        </div>
      </div>
      <div class="form-group">
        <input type="number" class="form-control item" id="salario" name="salario" placeholder="salario"
          [(ngModel)]="usuarioLogado.salario" #salario="ngModel" required>
        <div *ngIf="salario.errors && (salario.dirty || salario.touched)" class="item alert alert-danger">
          <div [hidden]="!salario.errors?.['required']">
            Digite um salario valido
          </div>
        </div>
      </div>
      <div class="form-group">
        <input type="text" class="form-control item" id="cpf" name="cpf" placeholder="000.000.000-00"
          data-inputmask="'mask': '999.999.999-99'" [(ngModel)]="usuarioLogado.cpf" #cpf="ngModel" [minLength]="11"
          required>
        <div *ngIf="cpf.errors && (cpf.dirty || cpf.touched)" class="item alert alert-danger">
          <div [hidden]="!cpf.errors?.['minLength'] || !cpf.errors?.['required']">
            cpf invalido
          </div>
        </div>
      </div>

      <div class="form-group">
        <select id="tipo" name="tipo" [(ngModel)]="endereco.tipo" class="form-select item" aria-label="tipo" required>
          <option *ngFor="let method of contactMethods" [ngValue]="method.value">{{ method.label }}</option>
        </select>
      </div>
      <div class="form-group">
        <input type="text" class="form-control item" id="logradouro" name="logradouro" placeholder="logradouro"
          [(ngModel)]="endereco.logradouro" #logradouro="ngModel" required>
      </div>
      <div *ngIf="logradouro.errors && (logradouro.dirty || logradouro.touched)" class="item alert alert-danger">
        <div [hidden]="!logradouro.errors?.['required']">
          Digite um logradouro valido
        </div>
      </div>
      <div class="form-group">
        <input type="text" class="form-control item" id="numero" name="numero" placeholder="numero"
          [(ngModel)]="endereco.numero" #numero="ngModel" required>
      </div>
      <div *ngIf="numero.errors && (numero.dirty || numero.touched)" class="item alert alert-danger">
        <div [hidden]="!numero.errors?.['required']">
          Digite um numero valido
        </div>
      </div>
      <div class="form-group">
        <input type="text" class="form-control item" id="complemento" name="complemento" placeholder="complemento"
          [(ngModel)]="endereco.complemento" #complemento="ngModel" required>
        <div *ngIf="complemento.errors && (complemento.dirty || complemento.touched)" class="item alert alert-danger">
          <div [hidden]="!complemento.errors?.['required']">
            Digite um complemento valido
          </div>
        </div>
      </div>
      <div class="form-group">
        <input type="text" class="form-control item" id="cep" placeholder="cep" name="cep" [(ngModel)]="endereco.cep"
          #cep="ngModel" data-inputmask="'mask': '99999999'" [minLength]="8" required>
        <div *ngIf="cep.errors && (cep.dirty || cep.touched)" class="item alert alert-danger">
          <div [hidden]="!cep.errors?.['required']">
            Digite um cep valido
          </div>
        </div>
      </div>
      <div class="form-group">
        <select name="estado" id="estado" [(ngModel)]="endereco.estado" (change)="buscarCidades()"
          class="form-select item" aria-label="estado" required>
          <option *ngFor="let est of estados" [ngValue]="est.Sigla">{{est.Sigla}}</option>
        </select>
      </div>
      <div class="form-group">
        <select name="cidade" id="cidade" [(ngModel)]="endereco.cidade" class="form-select item" aria-label="cidade"
          required>
          <option *ngFor="let cid of cidades" [ngValue]="cid">
            {{cid}}
          </option>
        </select>
      </div>

    </section>
    <div class="form-group">
      <button type="button" class="btn btn-block create-account" (click)="salvar()">Criar Conta</button>
    </div>

  </form>
</div>
